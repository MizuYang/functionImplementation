import{r as i,q as k,o as $,c as S,b as o,m as p,g as u,i as Y,k as V,t as x,s as M,v as I,x as D}from"./index-29a5d015.js";const P="/functionImplementation/assets/圖片放大鏡-699f76d6.jpg";const T={class:"position-absolute-center-200 p-15"},B={class:"d-flex"},N=["width","height"],U={key:0,class:"position-absolute top-0 bottom-0 start-0 end-0 z50",style:{"background-color":"rgb(83 0 138 / 37%)"}},q={class:"mt-15"},C={class:"form-check d-flex align-items-center"},E={class:"form-check-label ms-3",for:"overflowState"},H={class:"form-floating mb-3"},F={__name:"圖片放大鏡",setup(W){const n=i(2),s=i(300),a=i(300),c=i(0),m=i(0),g=i(0),b=i(0),v=i(localStorage.getItem("overflowState")||"hidden"),d=X(30,z);k(()=>{const l=n.value,e=document.querySelector(".zoom-img");e&&e.style.setProperty("--zoom",l)}),k(()=>{localStorage.setItem("overflowState",v.value)});function z(l){const e=s.value/4,t=a.value/4,f=l.offsetY-t/2,r=l.offsetX-e/2,h=r>0,_=r+e<=s.value;h&&_?m.value=r:h?_||(m.value=s.value-e):m.value=0;const w=f>0,y=f+t<=a.value;w&&y?c.value=f:w?y||(c.value=a.value-t):c.value=0,console.log("e.offsetY",l.offsetY),console.log("e.offsetX",l.offsetX),g.value=l.offsetX*n.value/2*-1,b.value=l.offsetY*n.value/2*-1}function X(l,e){let t=Date.now();return function(f){const r=Date.now();r-t>=l&&(e(f),t=r)}}return(l,e)=>($(),S("div",T,[o("div",B,[o("div",{class:"position-relative me-15",style:p([{overflow:"hidden"},[`max-width:${s.value}px;`,`max-height:${a.value}px;`]])},[o("div",null,[o("img",{src:P,class:"d-block",alt:"圖片放大鏡",width:s.value,height:a.value},null,8,N)]),o("div",{class:"position-absolute d-block",style:p([{"background-color":"#ffffff56"},[`width: ${s.value/4}px`,`height: ${a.value/4}px`,`top:${c.value}px`,`left:${m.value}px`]])},null,4),o("div",{class:"position-absolute top-0 bottom-0 start-0 end-0 z50",onMousemove:e[0]||(e[0]=(...t)=>u(d)&&u(d)(...t)),onMouseenter:e[1]||(e[1]=(...t)=>u(d)&&u(d)(...t)),onMouseleave:e[2]||(e[2]=(...t)=>u(d)&&u(d)(...t))},null,32)],4),o("div",{class:"position-relative",style:p([`max-width:${s.value}px;`,`max-height:${a.value}px;`,`overflow: ${v.value};`])},[o("div",{class:"zoom-img",style:p([`background-image:url(${u(P)})`,`width:${n.value*s.value}px;`,`height:${n.value*a.value}px;`,`background-position-x: ${g.value}px`,`background-position-y: ${b.value}px`])},null,4),v.value==="visible"?($(),S("div",U)):Y("",!0)],4)]),o("div",q,[o("p",null,[V(" bgPositionX: "+x(g.value)+" ",1),e[5]||(e[5]=o("br",null,null,-1)),V(" bgPositionY: "+x(b.value)+" ",1),e[6]||(e[6]=o("br",null,null,-1))]),o("div",C,[M(o("input",{class:"form-check-input",type:"checkbox",id:"overflowState","onUpdate:modelValue":e[3]||(e[3]=t=>v.value=t),"true-value":"hidden","false-value":"visible"},null,512),[[I,v.value]]),o("label",E," 隱藏溢出: "+x(v.value),1)]),o("div",H,[M(o("input",{type:"number",class:"form-control",id:"floatingInput",placeholder:"2",min:"1",step:"0.5","onUpdate:modelValue":e[4]||(e[4]=t=>n.value=t),style:{width:"200px"}},null,512),[[D,n.value]]),e[7]||(e[7]=o("label",{for:"floatingInput"},"放大倍率",-1))])])]))}};export{F as default};
